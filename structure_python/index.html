
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Вопросы и ответы по устройству Python на сайте-методичке Python FAQ.">
      
      
      
        <link rel="canonical" href="https://u-cha.github.io/python-faq/structure_python/">
      
      
      
        <link rel="next" href="../collections/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Устройство Python - Python FAQ</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e53b48f4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/open_in_new_tab.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Устройство Python - Python FAQ" >
      
        <meta  property="og:description"  content="Вопросы и ответы по устройству Python на сайте-методичке Python FAQ." >
      
        <meta  property="og:image"  content="https://u-cha.github.io/python-faq/assets/images/social/structure_python.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://u-cha.github.io/python-faq/structure_python/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Устройство Python - Python FAQ" >
      
        <meta  name="twitter:description"  content="Вопросы и ответы по устройству Python на сайте-методичке Python FAQ." >
      
        <meta  name="twitter:image"  content="https://u-cha.github.io/python-faq/assets/images/social/structure_python.png" >
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Python FAQ" class="md-header__button md-logo" aria-label="Python FAQ" data-md-component="logo">
      
  <img src="../img/pythonfaq.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Python FAQ
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Устройство Python
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/u-cha/python-faq/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    python-faq gh
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Python FAQ" class="md-nav__button md-logo" aria-label="Python FAQ" data-md-component="logo">
      
  <img src="../img/pythonfaq.png" alt="logo">

    </a>
    Python FAQ
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/u-cha/python-faq/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    python-faq gh
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Core Python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Core Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Устройство Python
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Устройство Python
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Чем отличается модуль от пакета?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    <span class="md-ellipsis">
      Относительные и абсолютные импорты в Python
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_1" class="md-nav__link">
    <span class="md-ellipsis">
      Что происходит при запуске кода в Python?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Сборщик мусора
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gil" class="md-nav__link">
    <span class="md-ellipsis">
      Что такое GIL?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#race-condition" class="md-nav__link">
    <span class="md-ellipsis">
      Что такое состояние гонки (race condition)?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gil_1" class="md-nav__link">
    <span class="md-ellipsis">
      Как GiL влияет на состояние гонки?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Исключения
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is" class="md-nav__link">
    <span class="md-ellipsis">
      Разница между is и ==
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      Копия и глубокая копия
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_2" class="md-nav__link">
    <span class="md-ellipsis">
      Слабые стороны Python
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_3" class="md-nav__link">
    <span class="md-ellipsis">
      Кто или что создает объект в Python?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      Что такое "слабая" ссылка?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../collections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Коллекции
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../generics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Функции и декораторы
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../generators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Итераторы и генераторы
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context_managers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Контекстные менеджеры
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../legb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Область видимости
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../oop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ООП Python
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Паттерны
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../async/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Многопоточность и асинхронность
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../frameworks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Фреймворки
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Тестирование
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../message_queues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Очереди сообщений
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Инструменты
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Инструменты
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependency_managers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Системы управления зависимостями
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Линтеры
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../db/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Базы данных
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../livecoding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Лайвкодинг
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Изменения в проекте
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Вопросы на подумать
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Чем отличается модуль от пакета?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    <span class="md-ellipsis">
      Относительные и абсолютные импорты в Python
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_1" class="md-nav__link">
    <span class="md-ellipsis">
      Что происходит при запуске кода в Python?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Сборщик мусора
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gil" class="md-nav__link">
    <span class="md-ellipsis">
      Что такое GIL?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#race-condition" class="md-nav__link">
    <span class="md-ellipsis">
      Что такое состояние гонки (race condition)?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gil_1" class="md-nav__link">
    <span class="md-ellipsis">
      Как GiL влияет на состояние гонки?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Исключения
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is" class="md-nav__link">
    <span class="md-ellipsis">
      Разница между is и ==
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      Копия и глубокая копия
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_2" class="md-nav__link">
    <span class="md-ellipsis">
      Слабые стороны Python
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_3" class="md-nav__link">
    <span class="md-ellipsis">
      Кто или что создает объект в Python?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      Что такое "слабая" ссылка?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Устройство Python</h1>

<h2 id="_1">Чем отличается модуль от пакета?</h2>
<p><strong>Модуль</strong> — это файл, содержащий код Python, который может быть повторно использован в других программах.</p>
<p><strong>Пакет</strong> — это директория, содержащая один или несколько модулей (или пакетов внутри пакетов), а также специальный файл <code>__init__</code>.py, который выполняется при импорте пакета. Он может содержать код, который инициализирует переменные, функции и классы, и становится доступным для использования внутри модулей, находящихся внутри этого пакета. Это обеспечивает общую функциональность для всех модулей, находящихся внутри пакета.</p>
<p>Например, если у нас есть пакет mypackage, в нем может находится несколько модулей, таких как module1.py, module2.py. В файле <code>__init__</code>.py  определяются функции и переменные, которые могут использоваться внутри module1 и module2.
Некоторые примеры импорта:</p>
<pre><code>import mymodule # импортируем модуль

from mypackage import mymodule # импортируем модуль из пакета

from mypackage.mymodule import myfunction # импортируем функцию из модуля в пакете
</code></pre>
<p>Пример со структурой файлов</p>
<pre><code>project/
    main.py
    shapes/           # пакет
        __init__.py   # обязательный файл для пакета
        circle.py     # модуль в пакете
        rectangle.py  # модуль в пакете

# Импорт конкретного модуля из пакета
from shapes import circle

result = circle.area(5)
print(result)  # 78.53975

# Импорт функции напрямую из модуля пакета
from shapes.rectangle import area

result = area(4, 6)
print(result)  # 24

# Импорт всего пакета (требует настройки __init__.py)
import shapes

# После настройки __init__.py можно использовать:
# result = shapes.circle.circumference(3)
</code></pre>
<p>Настройка <code>__init__.py</code> необходима для корректного импорта всего пакета. Без неё команда import shapes загрузит пакет, но не предоставит прямого доступа к его модулям и функциям. Основная настройка включает определение списка <code>__all__</code>для контроля импорта через звёздочку и явный реэкспорт ключевых компонентов на верхний уровень пакета. Также в <code>__init__.py</code> обычно указывают метаданные пакета, такие как версия и автор, и могут размещать код инициализации, который выполняется при первом импорте.</p>
<p>Статья на хабре <a href="https://habr.com/ru/articles/718828/">Python модули и пакеты</a></p>
<hr />
<h2 id="python">Относительные и абсолютные импорты в Python</h2>
<p>Относительные и абсолютные импорты в Python отличаются тем, как указывается путь к модулю, который импортируется.</p>
<p><strong>Абсолютные импорты</strong></p>
<p>При абсолютном импорте указывается полный путь к модулю с корня проекта или установленного пакета. Например:</p>
<pre><code class="language-python">from myproject.mypackage import mymodule
</code></pre>
<p>Абсолютные импорты более читаемы и однозначны, их легче поддерживать. Это рекомендуется согласно PEP 8. Абсолютные импорты работают всегда, независимо от того, откуда запускается скрипт.</p>
<p><strong>Относительные импорты</strong></p>
<p>Относительный импорт задает путь от текущего модуля с помощью точек:</p>
<ul>
<li>
<p>Одна точка . — текущий каталог</p>
</li>
<li>
<p>Две точки .. — уровень выше</p>
</li>
<li>
<p>Три точки ... — на два уровня выше и так далее</p>
</li>
</ul>
<p>Пример:</p>
<pre><code class="language-python">from . import mymodule  # импорт модуля из текущей папки
from ..subpackage import othermodule  # импорт из родительской папки
</code></pre>
<p>Относительные импорты удобны внутри пакетов для коротких путей и удобства поддержки, но работают только в пакетах (внутри модуля, который запускается как часть пакета), а не в скриптах, запущенных напрямую.</p>
<p><strong>Главные отличия</strong></p>
<ul>
<li>
<p>Абсолютные пути всегда начинаются с корня проекта (пакета).</p>
</li>
<li>
<p>Относительные пути задают перемещение относительно текущего модуля.</p>
</li>
</ul>
<p>В практике предпочтительнее использовать абсолютные импорты для внешнего кода, а относительные — для внутренних модулей пакета. Однако в точке входа (главный исполняемый файл) всегда используйте абсолютные импорты.</p>
<p>Статья на хабре - <a href="https://habr.com/ru/sandbox/249064/?ysclid=miot5vsvys72477592">Приручаем импорты в Python, или как не сойти с ума</a> </p>
<hr />
<h2 id="python_1">Что происходит при запуске кода в Python?</h2>
<p>Python — интерпретируемый язык программирования, поэтому коду не нужна компиляция. Он выполняется на ходу, но используется промежуточная форма, которая называется компиляцией байт-кода.</p>
<p>Вот как это происходит под капотом кратко:</p>
<ul>
<li>при первом запуске кода на Python компилирует его в байт-код;</li>
<li>после этого виртуальная машина Python (PVM) выполняет его;</li>
<li>байт-код хранится в папке pycache, у таких файлов расширение .pyc;</li>
<li>периодически Python проверяет, есть ли у файла .py скомпилированный байт-код в формате .pyc. Если его нет или он старше основного файла, то процесс компиляции запускается снова.</li>
</ul>
<p><strong>Интерпретатор Python</strong> - это программа, которая выполняет другие программы. Когда вы пишете программу на языке Python, интерпретатор читает ваш код и выполняет содержащиеся в нем инструкции. Интерпретатор представляет собой слой программной логики между вашим программным кодом и аппаратурой вашего компьютера.</p>
<pre><code>ИНТЕРПРЕТАТОР PYTHON (python.exe / python3)
    ├── КОМПИЛЯТОР (compiler) - компилирует .py в байт-код
    └── ВИРТУАЛЬНАЯ МАШИНА (PVM) - выполняет байт-код
</code></pre>
<p>В зависимости от используемой версии Python сам интерпретатор может быть реализован как программа на языке C (CPython), как набор классов Java (Jython) и в других вариантах реализации.</p>
<p><strong>Процесс выполнения Python-программы</strong></p>
<p><strong>Компиляция в байт-код</strong></p>
<p>После запуска сценария Python сначала компилирует исходный текст в байт-код. Компиляция - это этап перевода, а байт-код представляет собой низкоуровневое, платформонезависимое представление исходной программы. Python транслирует инструкции исходного кода в группы инструкций байт-кода для повышения производительности, поскольку выполнение байт-кода эффективнее прямой интерпретации исходного кода.</p>
<p><strong>Создание .pyc файлов</strong></p>
<p>После компиляции создаются файлы с расширением <strong><code>.pyc</code></strong>, которые сохраняются в папке <strong><code>__pycache__</code></strong>. Имена этих файлов включают информацию о версии Python (например: <code>module.cpython-310.pyc</code>).</p>
<p><strong>Повторный запуск программы</strong></p>
<p>При последующих запусках программы:</p>
<ul>
<li>Интерпретатор проверяет существование соответствующего <code>.pyc</code> файла</li>
<li>Сравнивает дату модификации исходного файла и скомпилированного байт-кода</li>
<li>Если исходный код не изменялся, выполняется этап компиляции, и программа запускается из существующего <code>.pyc</code> файла</li>
<li>Если исходный код был изменен, происходит перекомпиляция в байт-код</li>
</ul>
<p><strong>Резервный механизм</strong></p>
<p>Если Python не может записать файл с байт-кодом (например, из-за отсутствия прав на запись на диск), программа продолжает работать корректно - байт-код компилируется в оперативную память и удаляется после завершения программы.</p>
<p><strong>Виртуальная машина Python (PVM)</strong></p>
<p>После компиляции байт-код передается <strong>Виртуальной машине Python (Python Virtual Machine - PVM)</strong>, которая выполняет инструкции байт-кода. PVM - это механизм времени выполнения, который всегда присутствует в составе системы Python и является финальным звеном в цепочке выполнения программы.</p>
<p><strong>Важные особенности</strong></p>
<ul>
<li><strong>Автоматизация</strong>: Все описанные процессы (компиляция, создание .pyc файлов, выполнение в PVM) происходят автоматически и прозрачно для программиста</li>
<li><strong>Производительность</strong>: Байт-код выполняется эффективнее исходного кода, но медленнее машинного кода</li>
<li><strong>Переносимость</strong>: Байт-код является платформонезависимым, что обеспечивает кроссплатформенность Python-программ</li>
<li><strong>Структура</strong>: Интерпретатор Python состоит из компилятора (преобразует код в байт-код) и виртуальной машины (выполняет байт-код)</li>
<li><strong>JIT-компиляция</strong>: В Python 3.13 появился экспериментальный JIT-компилятор, но он требовал специальной сборки интерпретатора с флагом --enable-experimental-jit. В текущей стабильной версии Python 3.14 (выпущенной в октябре 2025) JIT-компилятор стал стандартной опцией, включаемой при компиляции Python с флагом --enable-jit. Эта реализация использует технику "копирования и исправления" (Copy-and-Patch), которая динамически компилирует байткод в машинный код во время выполнения программы. Важно отметить, что JIT в Python 3.14 по умолчанию отключён при стандартной установке и требует явного включения либо при компиляции интерпретатора, либо через переменные окружения во время выполнения. Производительные улучшения наиболее заметны в циклах и часто вызываемых функциях, но не дают радикального ускорения для всех типов кода.
Весь этот сложный процесс скрыт от пользователя, что делает работу с Python простой и интуитивно понятной.</li>
</ul>
<hr />
<h2 id="_2">Сборщик мусора</h2>
<p>В Python реализована <strong>автоматическая сборка мусора</strong>, что освобождает разработчика от необходимости явно управлять выделением и освобождением памяти. </p>
<p>Система использует два взаимодополняющих механизма:</p>
<p><strong>1. Reference Counting (подсчёт ссылок) — основной механизм</strong></p>
<p>Это фундаментальный механизм управления памятью в Python:</p>
<ul>
<li>Каждый объект имеет счётчик ссылок (<code>ob_refcnt</code>)</li>
<li>При создании новой ссылки счётчик увеличивается</li>
<li>При удалении ссылки счётчик уменьшается</li>
<li>Когда счётчик достигает <strong>нуля</strong>, объект немедленно удаляется из памяти</li>
</ul>
<p><strong>Преимущества:</strong></p>
<ul>
<li>Мгновенное освобождение памяти</li>
<li>Предсказуемое поведение</li>
<li>Низкие накладные расходы</li>
</ul>
<p><strong>Ограничение:</strong> не справляется с <strong>циклическими ссылками</strong></p>
<p><strong>2. Циклический сборщик мусора с поколенческой оптимизацией</strong></p>
<p>Дополнительный механизм для обработки случаев, которые не может разрешить reference counting.</p>
<p><strong>Поколенческая организация (Generations)</strong></p>
<p>Объекты отслеживаются в трёх группах (поколениях) на основе их "возраста":</p>
<ul>
<li><strong>Поколение 0</strong>: недавно созданные объекты</li>
<li><strong>Поколение 1</strong>: объекты, пережившие одну сборку мусора</li>
<li><strong>Поколение 2</strong>: долгоживущие объекты, пережившие несколько сборок</li>
</ul>
<p>Эмпирическое наблюдение, лежащее в основе этой оптимизации: <strong>большинство объектов становятся недостижимыми вскоре после создания</strong>.</p>
<p><strong>Алгоритм обнаружения циклических ссылок</strong></p>
<p>Сборщик использует алгоритм <strong>Mark-and-Sweep</strong> (метка и очистка):</p>
<ol>
<li>
<p><strong>Mark (пометка)</strong>: Начиная от "корневых" объектов (глобальные переменные, локальные переменные в стеке вызовов, системные объекты), рекурсивно помечаются все достижимые объекты.</p>
</li>
<li>
<p><strong>Sweep (очистка)</strong>: Все непомеченные объекты считаются недостижимыми и удаляются из памяти.</p>
</li>
<li>
<p><strong>Compact (уплотнение)</strong>: Опциональный этап, при котором оставшиеся объекты могут быть перемещены для уменьшения фрагментации памяти.</p>
</li>
</ol>
<p><strong>Планирование сборок мусора</strong></p>
<p>Сборки запускаются автоматически на основе пороговых значений:</p>
<ul>
<li><strong>Поколение 0</strong>: сборка запускается после определённого количества аллокаций</li>
<li><strong>Поколение 1</strong>: сборка запускается после нескольких сборок поколения 0</li>
<li><strong>Поколение 2</strong>: сборка запускается после нескольких сборок поколения 1</li>
</ul>
<p>Такой подход оптимизирует производительность, реже проверяя долгоживущие объекты.</p>
<p><strong>Проблема циклических ссылок</strong></p>
<p>Циклические ссылки возникают, когда объекты ссылаются друг на друга, образуя замкнутый цикл. Reference counting не может обработать такие случаи, поскольку счётчик ссылок каждого объекта никогда не достигнет нуля. Циклический сборщик мусора периодически обнаруживает и разрывает такие циклы.</p>
<p><strong>Слабые ссылки (Weak References)</strong></p>
<p>Для ситуаций, когда нужно избежать создания циклических ссылок, Python предоставляет механизм <strong>weak references</strong>. Слабая ссылка не увеличивает счётчик ссылок объекта, позволяя ему быть удалённым, если на него нет сильных (обычных) ссылок.</p>
<p><strong>Ручное управление</strong></p>
<p>Хотя сборка мусора в Python автоматическая, разработчики могут при необходимости:</p>
<ul>
<li>Вызывать принудительную сборку мусора:</li>
</ul>
<pre><code class="language-python">  import gc
  collected = gc.collect()  # Возвращает количество собранных объектов
  gc.collect(0)  # Только поколение 0
  gc.collect(1)  # Поколения 0 и 1
  gc.collect(2)  # Все поколения (по умолчанию)
</code></pre>
<ul>
<li>Включать или отключать циклический сборщик мусора:</li>
</ul>
<pre><code class="language-python">  gc.disable()  # Отключить автоматическую сборку
  gc.enable()   # Включить обратно
</code></pre>
<ul>
<li>Настраивать пороговые значения для сборок:</li>
</ul>
<pre><code class="language-python">  gc.set_threshold(500, 10, 10)  # Установить пороги для поколений 0, 1, 2
</code></pre>
<ul>
<li>Получать статистику по выполненным сборкам:</li>
</ul>
<pre><code class="language-python">  print(gc.get_count())      # Текущие счётчики для поколений
  print(gc.get_threshold())  # Текущие пороги
  print(gc.get_stats())      # Подробная статистика сборок
</code></pre>
<p><strong>Когда использовать ручной вызов сборки?</strong></p>
<ul>
<li>Перед измерением производительности** критического участка кода</li>
<li>После освобождения больших структур данных</li>
<li>При работе с циклическими ссылками для гарантии их очистки</li>
<li>В долгоживущих процессах для контроля использования памяти</li>
</ul>
<p>Статьи на хабре - <a href="https://habr.com/ru/articles/940642/#begin">CPython — сборка мусора изнутри ч.1 </a></p>
<p><a href="https://habr.com/ru/articles/417215/">Всё, что нужно знать о сборщике мусора в Python</a> </p>
<hr />
<h2 id="gil">Что такое GIL?</h2>
<p><strong>GIL (Global Interpreter Lock)</strong> - это механизм, который обеспечивает потокобезопасность интерпретатора. Это особенно важно в контексте многопоточности, поскольку GIL ограничивает выполнение байткода Python только одним потоком за раз. Другими словами, в любой момент времени только один поток байткода Python может выполняться в одном процессе. Это сделано для предотвращения гонок данных и других проблем, связанных с параллельным доступом к общим ресурсам.
GIL гарантирует каждому потоку эксклюзивный доступ к переменным интерпретатора (и соответствующие вызовы C-расширений работают правильно).</p>
<p>Принцип работы заключается в том, что когда поток начинает выполнение, он захватывает GIL, а освобождает его при операциях ввода-вывода (таких как чтение файлов, сетевые запросы) или при истечении выделенного временного интервала. Это позволяет другим готовым потокам получить GIL и продолжить работу. Однако такая модель создаёт проблемы с производительностью на многоядерных системах, где несколько потоков могли бы выполняться параллельно. Для задач, требующих истинного параллелизма, в Python рекомендуется использовать многопроцессорность (модуль multiprocessing), которая обходит ограничения GIL за счёт запуска отдельных процессов с собственными интерпретаторами.</p>
<p>В Python же при использовании потоков для вычислительных задач производительность практически не улучшается, а в некоторых случаях может даже ухудшиться из-за накладных расходов на переключение между потоками и управление GIL.</p>
<p><strong>Важно понимать, что GIL ограничивает только выполнение байт-кода Python. Это означает, что сам интерпретатор Python в любой момент времени может исполнять байт-код только в одном потоке, независимо от количества доступных ядер процессора.</strong></p>
<p>В нативных расширениях, написанных на C, C++ или Rust, разработчики могут временно освобождать GIL, когда код не взаимодействует с объектами Python. Это позволяет достичь реального параллелизма для вычислительных операций, реализованных на уровне нативного кода.
I/O операции. Наиболее распространенный пример — операции ввода-вывода. Когда поток выполняет сетевые запросы, чтение файлов или другие I/O операции, GIL автоматически освобождается, позволяя другим потокам выполнять Python-код во время ожидания завершения этих операций.</p>
<p>Библиотеки типа NumPy, Pandas и SciPy активно используют эту возможность. Их внутренние вычисления, реализованные на C/Fortran, выполняются с освобожденным GIL. Это означает, что:</p>
<ul>
<li>Матричные операции в NumPy</li>
<li>Агрегации и группировки в Pandas</li>
<li>Сложные математические вычисления в SciPy могут выполняться параллельно в нескольких потоках, поскольку основная вычислительная нагрузка приходится на оптимизированный нативный код, а не на байт-код Python.</li>
</ul>
<p><strong>Основные изменения, связанные с GIL в Python 3.14:</strong></p>
<ul>
<li><strong>Отказ от обязательного GIL</strong>: в Python 3.14 появилась возможность отключать GIL, позволяя потокам выполняться параллельно;</li>
<li><strong>Субинтерпретаторы</strong>: введена возможность создавать субинтерпретаторы, каждый из которых имеет свой собственный GIL. Это позволяет запускать потоки с разными блокировками, обеспечивая настоящий параллелизм;</li>
<li><strong>API для управления GIL</strong>: доступ к этой функциональности также можно получить через переменную окружения PYTHON_GIL или опцию командной строки -X gil;</li>
<li><strong>Внутренние изменения</strong>: наряду с внешними изменениями, произошли и внутренние реформы, такие как новый интерпретатор байт-кода, который улучшает производительность, 
устранение глобального состояния и потокобезопасный механизм управления памятью, что заложило основу для отключения GIL и принесло общее повышение производительности.</li>
</ul>
<p><strong>Как GIL влияет на Асинхронность, Многопоточность и Многопроцессорность?</strong>
* Многопоточность: GIL не позволяет эффективно использовать несколько ядер процессора для CPU-bound задач. Потоки выполняются конкурентно, а не параллельно.
* Асинхронность: GIL не мешает I/O-bound задачам, так как при ожидании ввода-вывода GIL освобождается.
* Многопроцессорность: Это основной способ обхода GIL. Каждый процесс имеет свой собственный интерпретатор и свой GIL, что позволяет выполнять задачи параллельно.</p>
<p>Статья на хабре - <a href="https://habr.com/ru/articles/957058/">Пул интерпретаторов в Python 3.14. Что, зачем и почему?</a></p>
<hr />
<h2 id="race-condition">Что такое состояние гонки (race condition)?</h2>
<p>Состояние гонки (race condition) — это ошибка в многопоточных программах, когда результат зависит от того, какой поток "победит" в гонке за доступ к общим данным.</p>
<p>Пример
Два потока одновременно увеличивают счётчик x = 0:</p>
<pre><code>python
# Поток 1: x = x + 1
# 1. читает x=0
# 2. x=1  
# 3. пишет x=1

# Поток 2: x = x + 1 (параллельно)
# 1. читает x=0 (потому что Поток 1 ещё не записал!)
# 2. x=1  
# 3. пишет x=1 (перезаписывает Поток 1)
</code></pre>
<p><strong>Результат:</strong> x=1 вместо ожидаемых x=2. Кто успел записать последним — тот и победил.</p>
<p><strong>Почему возникает</strong>
* Несколько потоков читают+пишут в общую переменную/файл/БД без синхронизации.
* ОС планировщик может переключить потоки в любой момент между чтением и записью.
* Результат непредсказуем и зависит от тайминга (классический гейзенбаг).</p>
<p><strong>Как избежать</strong>
* Блокировки (threading.Lock, RLock): один поток за раз работает с данными.
* Атомарные операции (queue.Queue).
* Immutable объекты или копии данных для каждого потока.
* В Python GIL частично помогает (защищает refcount), но для пользовательских данных нужны явные Lock'и.</p>
<hr />
<h2 id="gil_1">Как GiL влияет на состояние гонки?</h2>
<p>GIL предотвращает состояния гонки для внутренних структур Python, но НЕ предотвращает их для пользовательских данных.</p>
<p><strong>Что GIL защищает от race condition</strong><br />
GIL делает атомарным выполнение байт-кода: пока один поток держит GIL, другой не может вмешиваться. 
Это спасает:
* Refcount (счётчик ссылок): obj.refcnt +=1 или -=1 — без GIL два потока могли бы сломать память.
* Встроенные структуры: списки, словари, множества — их внутренние массивы/хэш-таблицы не блокируются, но GIL гарантирует, что только один поток их меняет.</p>
<h2 id="_3">Исключения</h2>
<p>Обработка исключений в Python реализуется с помощью конструкции try—except—finally:</p>
<pre><code>try:
    # Python пробует выполнить эту часть кода
except:
    # к этому блоку переходит, если не получилось выполнить try
finally:
    # этот блок выполняется всегда
</code></pre>
<p>Ветка else в конструкции <em>try…except…else</em> будет выполнена только в том случае, если исключения не было возбуждено в блоке try. Если в блоке try произошло исключение, то выполнение программы переходит к соответствующему блоку except, и ветка else пропускается. Если блок except не указан, то исключение будет возбуждено дальше, а программа завершится с сообщением об ошибке.</p>
<details>
  <summary>Пример, в котором будет выполнена ветка else</summary>



<pre><code class="language-python">try:
   # some code here
except:
   # code to handle the exception
else:
   # code to execute if there is no exception
</code></pre>


Если в блоке try не возникает исключений, то выполняется код в блоке else.
</details>

<p>Статья на хабре: <a href="https://habr.com/ru/articles/853056/">Полное руководство по обработке ошибок в Python</a></p>
<hr />
<h2 id="is">Разница между is и ==</h2>
<p><code>==</code> проверяет, одинаковые ли значения у переменных (проверка равенства значений), используя метод <strong><code>__eq__</code></strong>
(Когда вы используете a == b, Python вызывает метод <code>a.__eq__(b))</code></p>
<p><code>is</code> проверяет, указывают ли переменные на один и тот же объект (проверка идентичности), сравнивая адреса в памяти
(Python сравнивает идентификаторы объектов: id(a) == id(b))</p>
<pre><code>a = [1, 2]
b = [1, 2]

print(a == b) #True
print(a is b) #False
</code></pre>
<hr />
<h2 id="_4">Копия и глубокая копия</h2>
<p><strong>Метод copy()</strong> создает поверхностную копию объекта, то есть создает новый объект, который содержит ссылки на те же объекты, что и исходный объект. Если вы измените какой-либо из этих объектов, изменения отразятся и на копии, и на исходном объекте.</p>
<p><strong>Метод deepcopy()</strong> создает глубокую копию объекта, то есть создает новый объект, который содержит копии всех объектов, на которые ссылаются элементы исходного объекта. Если вы измените какой-либо из этих объектов, изменения не отразятся на копии или на исходном объекте.</p>
<pre><code>import copy

# создание копии объекта
    new_list = old_list.copy()

# создание глубокой копии объекта
    new_list = copy.deepcopy(old_list)
где old_list - исходный список, а new_list - его копия.
</code></pre>
<p><em>Примечание</em>: для выполнения глубокого копирования объектов, сами объекты также должны поддерживать копирование. Если объекты в ваших данных не поддерживают копирование, deepcopy() вернет исходный объект, а не его копию.</p>
<p><strong>Управление копированием через <code>__copy__</code> и <code>__deepcopy__</code></strong></p>
<p><strong>Метод <code>__copy__</code></strong></p>
<p>Позволяет кастомизировать поверхностное копирование. Когда вы определяете этот метод в классе, copy.copy() будет использовать вашу реализацию вместо стандартной.</p>
<p>Что можно контролировать:</p>
<ul>
<li>Какие атрибуты копировать, а какие нет </li>
<li>Как именно создавать копии отдельных полей </li>
<li>Какие данные сбрасывать/обновлять в копии</li>
</ul>
<p><strong>Метод <code>__deepcopy__</code></strong></p>
<p>Позволяет кастомизировать глубокое копирование. Принимает дополнительный параметр memo — словарь для отслеживания уже скопированных объектов.</p>
<p>Что можно контролировать:</p>
<ul>
<li>Глубину копирования для разных атрибутов </li>
<li>Обработку циклических ссылок </li>
<li>Оптимизацию процесса (например, не копировать неизменяемые объекты)</li>
</ul>
<h2 id="python_2">Слабые стороны Python</h2>
<p>У языка программирования Python есть несколько слабых сторон, которые связаны с особенностями производительности, потребления памяти, ограничений в области видимости и ограниченности стандартных библиотек для решения некоторых задач. <br />
<strong>Производительность</strong><br />
<em> </em><em>Интерпретируемая природа языка</em><em> — код выполняется построчно интерпретатором, что добавляет накладные расходы по сравнению с компилируемыми языками. 
* </em><em>Динамическая типизация</em><em> — проверка типов происходит во время выполнения, что требует дополнительных вычислительных ресурсов. 
* </em><em>Глобальная блокировка интерпретатора (GIL)</em><em> — ограничивает выполнение только одной инструкции Python в любой момент времени на одном процессоре, что может стать узким местом в многопоточных приложениях. С версии 3.14 есть обход GIL. 
* </em><em>Медленные операции ввода-вывода</em>* — если программа выполняет много операций ввода-вывода (например, чтение/запись файлов, работа с сетью), производительность может снизиться из-за ожидания завершения этих операций. </p>
<p><strong>Память</strong>
* <strong>Python использует больше памяти</strong> по сравнению с жёстко типизированными языками, такими как C или C++. Это может стать ограничением при работе с большими данными или в средах с ограниченной памятью. 
* <strong>Утечки памяти</strong> — память выделяется для конкретной задачи, но не освобождается после завершения процесса. Это особенно вредно, если утечка находится в часто выполняемом участке кода. </p>
<p><strong>Область видимости</strong><br />
<em><strong>По умолчанию все имена, значения которым присваиваются внутри функции</strong>, ассоциируются с пространством имён этой функции. <br />
Это означает, что:<br />
</em> Имена, определяемые внутри инструкции def, видны только программному коду внутри этой инструкции, к ним нельзя обратиться за пределами функции.
* Область видимости переменной определяется местом, где ей было присвоено значение, а не местом, откуда была вызвана функция.</p>
<p><strong>Библиотеки</strong><br />
<em> </em><em>Некоторые библиотеки Python не всегда эффективны</em><em> для решения некоторых задач. Например, некоторые библиотеки не освобождают память при завершении задачи или непрерывно запускают ненужные фоновые процессы, что напрягает доступные ресурсы. К таким библиотекам относится:<br />
1. Библиотеки с агрессивным кэшированием (для производительности)<br />
TensorFlow / PyTorch — преднамеренно кэшируют память на GPU/CPU между операциями для ускорения вычислений. Это может выглядеть как «утечка», но на самом деле — оптимизация.<br />
Решение: torch.cuda.empty_cache(), tf.keras.backend.clear_session().<br />
NumPy — при работе с большими массивами и срезами (views) может удерживать ссылки на исходные данные дольше ожидаемого.<br />
Решение: использовать .copy() при необходимости.
2. Библиотеки с глобальным состоянием<br />
Matplotlib — сохраняет все созданные фигуры в памяти до явного вызова plt.close() или plt.clf(). При генерации тысяч графиков в цикле это приводит к утечкам.<br />
Решение: всегда вызывать plt.close(fig) после сохранения.<br />
OpenCV (cv2) — при работе с видео (cv2.VideoCapture) требует явного освобождения ресурсов через .release().
3. ORM и кэши сессий<br />
SQLAlchemy — identity map и кэш сессии могут удерживать объекты в памяти при долгоживущих сессиях.<br />
Решение: использовать session.expunge_all(), session.close() или паттерн «сессия на запрос».
* </em><em>Конфликты имён</em>* — например, в модуле math есть функция <code>sqrt()</code>, но и в библиотеке <code>cmath</code> (для комплексных чисел) есть такая же функция. Это может привести к ошибкам, так как не ясно, из какого модуля используется функция.</p>
<h2 id="python_3">Кто или что создает объект в Python?</h2>
<p>В Python объекты создаются при вызове класса как функции (с круглыми скобками), что запускает встроенный механизм интерпретатора: сначала метод <code>__new__</code> (статический, по умолчанию из базового класса object) аллоцирует память и возвращает сырой экземпляр, а затем автоматически вызывается <code>__init__</code> для инициализации атрибутов.</p>
<h2 id="_5">Что такое "слабая" ссылка?</h2>
<p>"Слабая ссылка" (англ. weak reference) — это специальный тип ссылки на объект в программировании, который не препятствует удалению этого объекта сборщиком мусора.</p>
<p>Обычная (сильная) ссылка "удерживает" объект в памяти: пока на него есть хотя бы одна такая ссылка — он не будет удалён.
А слабая ссылка не удерживает объект. Если все обычные ссылки на объект исчезли, то даже если есть слабые — объект будет удалён из памяти.</p>
<p>Где применяется?
* Кэширование
* Системы наблюдения (observer pattern)
* Деревья с родительскими ссылками (например, DOM)
* Оптимизация памяти в длительных процессах</p>
<p>Модуль weakref — это встроенный модуль Python, который позволяет создавать слабые ссылки (weak references) на объекты.</p>
<pre><code>import weakref

class Well:
    def __init__(self, name):
        self.name = name

well = Well(&quot;WELL-101&quot;)
weak_ref = weakref.ref(well)  # слабая ссылка

print(weak_ref())  # &lt;__main__.Well object&gt; — объект жив

del well          # последняя сильная ссылка удалена
print(weak_ref())  # None — объект уничтожен сборщиком мусора
</code></pre>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../js/open_in_new_tab.js"></script>
      
    
  </body>
</html>